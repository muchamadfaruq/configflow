<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <title>Script Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white">

    <div class="max-w-5xl mx-auto px-6 py-12">

        <div class="backdrop-blur bg-white/5 border border-white/10 rounded-xl p-6">

            <h2 id="title" class="text-2xl font-semibold mb-4">
                Script
            </h2>

            <textarea id="scriptBox"
                class="w-full h-[450px] bg-slate-900 text-green-400 p-4 rounded-lg font-mono text-sm"
                readonly></textarea>

            <div class="flex flex-wrap gap-3 mt-6">
                <button onclick="copyScript()" class="px-4 py-2 bg-sky-600 hover:bg-sky-500 rounded-lg">
                    ðŸ“‹ Copy
                </button>

                <button onclick="downloadScript()" class="px-4 py-2 bg-emerald-600 hover:bg-emerald-500 rounded-lg">
                    â¬‡ Download
                </button>

                <a href="index.html" class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg">
                    â¬… Kembali
                </a>
            </div>

        </div>

    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const file = params.get('file');
        const title = params.get('title');

        document.getElementById('title').innerText = title || 'Script';

        fetch(file)
            .then(res => res.text())
            .then(text => {
                document.getElementById('scriptBox').value = text;
            });

        function copyScript() {
            const box = document.getElementById('scriptBox');
            box.select();
            document.execCommand('copy');
            alert('âœ… Script berhasil dicopy');
        }

        function downloadScript() {
            const text = document.getElementById('scriptBox').value;
            const blob = new Blob([text], { type: 'text/plain' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'konfigurasi-dasar.rsc';
            a.click();
        }
    </script>

</body>

</html>